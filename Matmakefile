
# using matmake2: https://github.com/laserskold/matmake2

libmsk
  src = src/*.cpp
  command = [static]
  out = libmsk

msk
  out = msk
  in = @libmsk
  src =
    src/main/*.cpp
  command = [exe]

line_reader_test
  out = line_reader_test
  in = @libmsk
  src = test/line_reader_test.cpp
  command = [test]

tokenizer_test
  out = tokenizer_test
  in = @libmsk
  src = test/tokenizer_test.cpp
  command = [test]

all
  in =
    @msk
    @line_reader_test
    @tokenizer_test
  includes =
    include
    src
    lib/
  copy =
    demos
  config =
    c++17
    Wall

